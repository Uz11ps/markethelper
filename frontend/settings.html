<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Настройки</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Навигация -->
  <nav class="navbar">
    <a href="/index.html">Новые заявки</a>
    <a href="/subscription.html">Активные подписки</a>
    <a href="/ai.html">Нейронка</a>
    <a href="/files.html">Файлы</a>
    <a href="/settings.html" class="active">Настройки</a>
    <a href="#" onclick="logout(); return false;" style="float: right; color: #f44336;">Выход</a>
  </nav>

  <h1>Настройки</h1>

  <div class="settings-container">
    <!-- AI Промпт -->
    <div class="settings-section">
      <h2>AI-промпт (чат)</h2>
      <p class="settings-description">
        Используется для ответов GPT-помощника в чате. Изменяйте стиль общения и тональность.
      </p>
      <textarea id="aiPrompt" rows="8" placeholder="Введите промпт для AI..."></textarea>
    </div>

    <div class="settings-section">
      <h2>Промпт генератора изображений</h2>
      <p class="settings-description">
        Описывает, как GPT анализирует фото товара и референсы, чтобы собрать текстовый промпт для Nano Banana.
      </p>
      <textarea id="imagePrompt" rows="12" placeholder="Введите системный промпт для генерации изображений..."></textarea>
    </div>

    <div class="settings-section">
      <h2>Стоимость токенов</h2>
      <p class="settings-description">
        Настройте, сколько токенов списывается за генерацию изображения и за один вопрос к GPT.
      </p>
      <div class="input-group">
        <label for="imageCost">Генерация изображения:</label>
        <input type="number" id="imageCost" min="0" placeholder="5">
        <span class="input-suffix">токенов</span>
      </div>
      <div class="input-group">
        <label for="gptCost">Вопрос к GPT:</label>
        <input type="number" id="gptCost" min="0" placeholder="1">
        <span class="input-suffix">токенов</span>
      </div>
    </div>

    <!-- Реферальный бонус -->
    <div class="settings-section">
      <h2>Модели ИИ</h2>
      <p class="settings-description">
        Выберите модели для генерации изображений и GPT запросов.
      </p>
      <div class="input-group">
        <label for="gptModel">GPT модель:</label>
        <select id="gptModel">
          <option value="gpt-4o-mini">GPT-4o Mini</option>
          <option value="gpt-4o">GPT-4o</option>
          <option value="gpt-4-turbo">GPT-4 Turbo</option>
          <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
        </select>
      </div>
      <div class="input-group">
        <label for="imageModel">Модель генерации изображений:</label>
        <select id="imageModel">
          <option value="fal-ai/flux-pro/v1.1">Nano Banana 1</option>
          <option value="fal-ai/flux-pro/v1.1-ultra">Nano Banana Pro</option>
          <option value="fal-ai/nano-banana">Nano Banana (обычная)</option>
        </select>
      </div>
    </div>

    <div class="settings-section">
      <h2>Реферальные настройки</h2>
      <p class="settings-description">
        Настройки реферальной программы: бонусы и токены.
      </p>
      <div class="input-group">
        <label for="referralBonus">Бонус за регистрацию (рефереру):</label>
        <input type="number" id="referralBonus" min="0" placeholder="100">
        <span class="input-suffix">баллов</span>
      </div>
      <div class="input-group">
        <label for="referralReferrerBonus">Минимальный бонус реферера:</label>
        <input type="number" id="referralReferrerBonus" min="0" placeholder="50">
        <span class="input-suffix">баллов</span>
      </div>
      <div class="input-group">
        <label for="referralReferredTokens">Токены для реферала:</label>
        <input type="number" id="referralReferredTokens" min="0" placeholder="10">
        <span class="input-suffix">токенов</span>
      </div>
    </div>

    <button onclick="saveSettings()" class="btn-primary">Сохранить все настройки</button>
  </div>

  <div id="message" class="message"></div>

  <script src="auth.js"></script>
  <script src="settings.js"></script>
</body>
</html>
