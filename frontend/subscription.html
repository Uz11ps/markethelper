<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="navbar">
    <a href="/index.html">–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏</a>
    <a href="/subscription.html" class="active">–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏</a>
    <a href="/ai.html">–ù–µ–π—Ä–æ–Ω–∫–∞</a>
    <a href="/files.html">–§–∞–π–ª—ã</a>
    <a href="/groups.html">–ì—Ä—É–ø–ø—ã</a>
    <a href="/bonuses.html">–ë–æ–Ω—É—Å—ã</a>
    <a href="/topup.html">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è</a>
    <a href="/settings.html">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
    <a href="#" onclick="logout(); return false;" style="float: right; color: #f44336;">–í—ã—Ö–æ–¥</a>
  </nav>

  <h1>üì¶ –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏</h1>

  <!-- –§–æ—Ä–º–∞ —Ä–∞—Å—Å—ã–ª–∫–∏ -->
  <div class="broadcast-section">
    <h2>üì¢ –†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π</h2>
    <div class="broadcast-form">
      <textarea id="broadcastMessage" rows="3" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏..."></textarea>
      <div class="broadcast-controls">
        <select id="broadcastAudience">
          <option value="all">–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</option>
          <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏</option>
          <option value="inactive">–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</option>
        </select>
        <button onclick="sendBroadcast()" class="btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <div class="search-container">
    <input 
      type="text" 
      id="searchFile" 
      placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ñ–∞–π–ª–∞..." 
      class="search-input"
    >
  </div>
  <div style="margin-bottom: 20px;"></div>
  <table id="subsTable">
    <thead>
      <tr>
        <th>ID</th>
        <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
        <th>–¢–∞—Ä–∏—Ñ</th>
        <th>–°—Ç–∞—Ç—É—Å</th>
        <th>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</th>
        <th>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</th>
        <th>–ì—Ä—É–ø–ø–∞</th>
        <th>–§–∞–π–ª</th>
        <th>–ë–∞–ª–∞–Ω—Å</th>
        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ -->
  <div id="extendModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeExtendModal()">&times;</span>
      <h2>–ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</h2>
      <p>–ü–æ–¥–ø–∏—Å–∫–∞ ID: <span id="extendSubId"></span></p>
      <div class="input-group">
        <label for="extendDays">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π:</label>
        <input type="number" id="extendDays" min="1" value="30">
      </div>
      <button onclick="confirmExtend()" class="btn-primary">–ü—Ä–æ–¥–ª–∏—Ç—å</button>
      <button onclick="closeExtendModal()" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ -->
  <div id="balanceModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeBalanceModal()">&times;</span>
      <h2>–ò–∑–º–µ–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
      <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <span id="balanceUsername"></span></p>
      <div class="input-group">
        <label for="balanceType">–¢–∏–ø –±–∞–ª–∞–Ω—Å–∞:</label>
        <select id="balanceType">
          <option value="bonus">–ë–æ–Ω—É—Å–Ω—ã–π –±–∞–ª–∞–Ω—Å (—Ç–æ–∫–µ–Ω—ã)</option>
          <option value="token">–¢–æ–∫–µ–Ω—ã</option>
        </select>
      </div>
      <div class="input-group">
        <label for="balanceAmount">–ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:</label>
        <input type="number" id="balanceAmount" min="0" value="0">
      </div>
      <button onclick="confirmBalanceUpdate()" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <button onclick="closeBalanceModal()" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>

  <div id="message" class="message"></div>

  <script src="auth.js"></script>
  <script src="subscription.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (!requireAuth()) return;
    });
  </script>
</body>
</html>
