<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ó–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="navbar">
    <a href="/index.html">–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏</a>
    <a href="/subscription.html">–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏</a>
    <a href="/ai.html">–ù–µ–π—Ä–æ–Ω–∫–∞</a>
    <a href="/files.html">–§–∞–π–ª—ã</a>
    <a href="/groups.html">–ì—Ä—É–ø–ø—ã</a>
    <a href="/bonuses.html">–ë–æ–Ω—É—Å—ã</a>
    <a href="/topup.html" class="active">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è</a>
    <a href="/settings.html">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
    <a href="#" onclick="logout(); return false;" style="float: right; color: #f44336;">–í—ã—Ö–æ–¥</a>
  </nav>

  <h1>üí∞ –ó–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</h1>

  <div class="filter-section">
    <label for="statusFilter">–§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É:</label>
    <select id="statusFilter" onchange="loadTopupRequests()">
      <option value="">–í—Å–µ</option>
      <option value="PENDING">–û–∂–∏–¥–∞—é—Ç</option>
      <option value="APPROVED">–û–¥–æ–±—Ä–µ–Ω—ã</option>
      <option value="REJECTED">–û—Ç–∫–ª–æ–Ω–µ–Ω—ã</option>
    </select>
  </div>

  <table id="topupTable">
    <thead>
      <tr>
        <th>ID</th>
        <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
        <th>–¢–æ–∫–µ–Ω—ã</th>
        <th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th>
        <th>–°—Ç–∞—Ç—É—Å</th>
        <th>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</th>
        <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
        <th>–î–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏</th>
        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
      </tr>
    </thead>
    <tbody>
      <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å—é–¥–∞ -->
    </tbody>
  </table>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è -->
  <div id="approveModal" class="modal">
    <div class="modal-content">
      <span class="close-button" onclick="closeApproveModal()">&times;</span>
      <h2>–û–¥–æ–±—Ä–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</h2>
      <p>ID –∑–∞—è–≤–∫–∏: <span id="approvePurchaseId"></span></p>
      <label for="paymentMethod">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
      <input type="text" id="paymentMethod" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–ë–ü, –∫–∞—Ä—Ç–∞, –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞">
      <button onclick="confirmApprove()">–û–¥–æ–±—Ä–∏—Ç—å</button>
    </div>
  </div>

  <script src="auth.js"></script>
  <script src="topup.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (!requireAuth()) return;
      loadTopupRequests();
    });
  </script>
</body>
</html>

