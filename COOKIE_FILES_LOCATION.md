# Расположение файлов куков

## Где создаются файлы

Файлы куков создаются в следующем месте:

### На сервере (хост):
```
/opt/markethelper/cookie/
```

### Внутри Docker контейнера:
```
/app/cookie/
```

Благодаря volume mount в `docker-compose.prod.yml`, файлы синхронизируются между хостом и контейнером.

## Как получить доступ к файлам

### 1. Через SSH на сервере:

```bash
# Перейти в директорию с файлами
cd /opt/markethelper/cookie

# Просмотреть список файлов
ls -lah

# Просмотреть содержимое файла
cat имя_файла.txt

# Отредактировать файл
nano имя_файла.txt
```

### 2. Через Docker контейнер:

```bash
# Войти в контейнер backend
docker-compose -f docker-compose.prod.yml exec backend bash

# Перейти в директорию
cd /app/cookie

# Просмотреть файлы
ls -lah
```

### 3. Через API (в админ-панели):

После создания файла, вы получите путь к файлу в ответе API:
```json
{
  "status": "ok",
  "file_id": 1,
  "group_id": 1,
  "path": "/app/cookie/sf_acc1.txt",
  "last_updated": "2024-01-01T12:00:00"
}
```

## Структура файлов

Файлы куков сохраняются в формате Netscape Cookie Jar (текстовый формат).

Пример имени файла:
- `sf_acc1.txt`
- `user@example.com_1234567890.txt` (если имя не указано, используется login + timestamp)

## Ручное редактирование файлов

Если вы создали файл с опцией `skip_auth=true`, вы можете заполнить его вручную:

1. Подключитесь к серверу по SSH
2. Перейдите в директорию: `cd /opt/markethelper/cookie`
3. Откройте файл: `nano имя_файла.txt`
4. Добавьте куки в формате Netscape Cookie Jar
5. Сохраните файл

## Проверка файлов

Для проверки существования и содержимого файлов:

```bash
# На сервере
ls -lah /opt/markethelper/cookie/

# Проверка через API (в админ-панели)
GET /api/files/user/{tg_id}/get
```

