# Инструкция по настройке DNS для домена iawuuw.com

## Проблема

DNS записи для домена `iawuuw.com` не настроены или не распространились. Let's Encrypt не может проверить домен без правильных DNS записей.

## Решение

### Шаг 1: Настройка DNS записей

1. **Войдите в панель управления вашим доменом**
   - Найдите регистратора домена (где вы покупали домен)
   - Войдите в панель управления доменом

2. **Найдите раздел DNS**
   - Обычно называется "DNS Management", "DNS записи", "Управление DNS" или "Zone Editor"

3. **Добавьте A записи:**

   **Запись 1:**
   - **Тип:** A
   - **Имя/Хост:** @ (или оставьте пустым, или укажите корневой домен)
   - **Значение/IP:** 80.76.43.75
   - **TTL:** 3600 (или Auto/Default)

   **Запись 2:**
   - **Тип:** A
   - **Имя/Хост:** www
   - **Значение/IP:** 80.76.43.75
   - **TTL:** 3600 (или Auto/Default)

4. **Сохраните изменения**

### Шаг 2: Ожидание распространения DNS

DNS записи распространяются не мгновенно. Обычно это занимает:
- **Минимум:** 5-10 минут
- **Обычно:** 10-30 минут
- **Максимум:** до 24-48 часов (редко)

### Шаг 3: Проверка DNS

После настройки DNS записей, проверьте их распространение:

```bash
# На сервере
dig +short @8.8.8.8 iawuuw.com
dig +short @1.1.1.1 iawuuw.com

# Должно вернуть: 80.76.43.75
```

Или используйте онлайн сервисы:
- https://dnschecker.org/#A/iawuuw.com
- https://www.whatsmydns.net/#A/iawuuw.com

### Шаг 4: Получение SSL сертификата

После того, как DNS записи распространились, получите SSL сертификат:

```bash
cd /opt/markethelper
git pull origin master
chmod +x setup-dns-and-nginx.sh
./setup-dns-and-nginx.sh

# Если DNS распространился, получите SSL:
certbot --nginx -d iawuuw.com -d www.iawuuw.com
```

## Временная работа без домена

Пока DNS не настроен, админ-панель доступна по IP адресу:

- **HTTP:** http://80.76.43.75
- **API:** http://80.76.43.75/api/docs

## Частые регистраторы доменов

### Namecheap
1. Войдите в аккаунт
2. Domain List → Manage → Advanced DNS
3. Добавьте A записи в Host Records

### GoDaddy
1. Войдите в аккаунт
2. My Products → DNS → Manage DNS
3. Добавьте A записи

### Cloudflare
1. Войдите в аккаунт
2. Выберите домен → DNS → Records
3. Добавьте A записи

### REG.RU (Россия)
1. Войдите в личный кабинет
2. Мои домены → Управление DNS
3. Добавьте A записи

### Timeweb (Россия)
1. Войдите в панель управления
2. Домены → Управление DNS
3. Добавьте A записи

## Проверка после настройки

После настройки DNS и получения SSL:

```bash
# Проверка HTTPS
curl -I https://iawuuw.com/api/docs

# Должен вернуть HTTP 200
```

## Проблемы и решения

### DNS не распространяется более 24 часов
- Проверьте правильность IP адреса (80.76.43.75)
- Убедитесь, что записи сохранены правильно
- Проверьте, нет ли конфликтующих записей
- Обратитесь в поддержку регистратора домена

### Let's Encrypt все еще не может проверить домен
- Убедитесь, что DNS распространился глобально (проверьте через разные DNS серверы)
- Проверьте, что порт 80 открыт: `sudo ufw allow 80/tcp`
- Проверьте доступность домена из интернета

### Домен не открывается
- Проверьте, что Nginx запущен: `sudo systemctl status nginx`
- Проверьте логи: `sudo tail -f /var/log/nginx/error.log`
- Убедитесь, что контейнеры запущены: `docker-compose ps`
